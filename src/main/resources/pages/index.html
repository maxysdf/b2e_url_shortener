<!DOCTYPE html>
<html>
	<head>
		<title>shorten</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	</head>
	<body>
		<div id="main">
			<div class="container">
				<div>
					<h3>Shorten URL</h3>
					<hr />
					
					url: <input type="text" v-model="url" size="80" /> 
					<input type="button" @click="trans" value="shorten" />
					<br />
					<br />
					
					short-url: <a :href="srt" target="_blank">{{srt}}</a>
				</div>
			</div>
			
			
			
		</div>

		<!-- scripts -->
		<script type="text/javascript" th:src="@{/js/vue.min.js}"></script>
		<script type="text/javascript" th:src="@{/js/axios.min.js}"></script>
		
		<script type="text/javascript">
			var main = new Vue({
				el: '#main',
				data: {
					base: '[[@{/}]]'.replace(/\/$/, ''),
					url: '',
					srt: '',
				},
				mounted: function() {
					var self = this;
					
				},
				methods: {
					trans: function() {
						var self = this;
						
						axios.post(self.base + '/s', {url:self.url}).then(function(res) {
							self.srt = res.data;
						});
						
					}
				}
			});
		
		</script>
		
	</body>
</html>